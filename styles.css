@tailwind base;
@tailwind components;
@tailwind utilities;

/* Self-hosted web fonts reduce hard-refresh swaps from fallback fonts. */
@font-face {
  font-family: 'Manrope';
  font-style: normal;
  font-display: block;
  font-weight: 200 800;
  src: url('/fonts/manrope-latin-ext-wght-normal.woff2') format('woff2-variations');
  unicode-range:
    U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329,
    U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F,
    U+A720-A7FF;
}

@font-face {
  font-family: 'Manrope';
  font-style: normal;
  font-display: block;
  font-weight: 200 800;
  src: url('/fonts/manrope-latin-wght-normal.woff2') format('woff2-variations');
  unicode-range:
    U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329,
    U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Fraunces';
  font-style: normal;
  font-display: block;
  font-weight: 100 900;
  src: url('/fonts/fraunces-latin-ext-wght-normal.woff2') format('woff2-variations');
  unicode-range:
    U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329,
    U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F,
    U+A720-A7FF;
}

@font-face {
  font-family: 'Fraunces';
  font-style: normal;
  font-display: block;
  font-weight: 100 900;
  src: url('/fonts/fraunces-latin-wght-normal.woff2') format('woff2-variations');
  unicode-range:
    U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329,
    U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@layer base {
  :root {
    --canvas-rgb: 238 244 251;
    --ink-rgb: 19 34 56;
    --stone-rgb: 92 111 136;
    --line-rgb: 211 222 236;
    --brand-rgb: 56 126 209;
  }

  html {
    font-family: 'Manrope', ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    color-scheme: light;
  }

  body {
    min-height: 100vh;
    color: rgb(var(--ink-rgb));
    background:
      radial-gradient(circle at 6% -8%, rgba(56, 126, 209, 0.24), rgba(56, 126, 209, 0) 42%),
      radial-gradient(circle at 92% 8%, rgba(18, 34, 56, 0.17), rgba(18, 34, 56, 0) 32%),
      linear-gradient(145deg, rgba(255, 255, 255, 0.86), rgba(233, 242, 252, 0.92));
    background-attachment: fixed;
  }

  body::before {
    content: '';
    position: fixed;
    inset: -12%;
    pointer-events: none;
    z-index: -1;
    opacity: 0.34;
    background-image:
      linear-gradient(rgba(56, 126, 209, 0.07) 1px, transparent 1px),
      linear-gradient(90deg, rgba(56, 126, 209, 0.05) 1px, transparent 1px);
    background-size: 34px 34px, 34px 34px;
    transform: perspective(920px) rotateX(44deg) translateY(12%);
    transform-origin: top center;
  }

  #root {
    min-height: 100vh;
  }

  *::selection {
    background: rgba(56, 126, 209, 0.18);
    color: rgb(12, 23, 38);
  }

  button,
  input,
  select,
  textarea {
    transition-property: color, background-color, border-color, box-shadow, transform, opacity;
    transition-duration: 220ms;
    transition-timing-function: ease;
  }
}

@layer components {
  .app-shell {
    position: relative;
    isolation: isolate;
  }

  .app-atmosphere {
    pointer-events: none;
    position: absolute;
    inset: 0;
    background:
      radial-gradient(circle at 14% 14%, rgba(56, 126, 209, 0.2), rgba(56, 126, 209, 0) 48%),
      radial-gradient(circle at 84% 2%, rgba(26, 50, 86, 0.12), rgba(26, 50, 86, 0) 36%);
  }

  .app-header {
    border-bottom-color: rgba(var(--line-rgb), 0.86);
    background: linear-gradient(140deg, rgba(247, 251, 255, 0.86), rgba(236, 244, 253, 0.93));
    box-shadow: 0 18px 36px -34px rgba(16, 37, 66, 0.72);
    backdrop-filter: blur(8px);
  }

  .brand-mark {
    background: linear-gradient(160deg, #387ed1, #215ea7);
    box-shadow: 0 14px 30px -18px rgba(34, 83, 150, 0.68);
  }

  .control-label {
    display: inline-flex;
    align-items: center;
    gap: 0.55rem;
    font-size: 0.82rem;
    font-weight: 700;
    letter-spacing: 0.015em;
    color: rgb(var(--stone-rgb));
  }

  .control-select {
    border: 1px solid rgba(var(--line-rgb), 0.95);
    background: rgba(255, 255, 255, 0.92);
    border-radius: 0.72rem;
    padding: 0.46rem 0.8rem;
    color: rgb(var(--ink-rgb));
    box-shadow: 0 8px 14px -14px rgba(20, 37, 65, 0.7);
  }

  .control-select:hover {
    border-color: rgba(var(--brand-rgb), 0.5);
  }

  .control-select:focus {
    outline: none;
    border-color: rgba(var(--brand-rgb), 0.75);
    box-shadow: 0 0 0 3px rgba(var(--brand-rgb), 0.2);
  }

  .ghost-btn {
    border: 1px solid rgba(var(--line-rgb), 0.95);
    background: rgba(255, 255, 255, 0.9);
    border-radius: 0.72rem;
    color: rgb(var(--stone-rgb));
    box-shadow: 0 8px 14px -14px rgba(20, 37, 65, 0.7);
  }

  .ghost-btn:hover {
    color: rgb(var(--ink-rgb));
    border-color: rgba(var(--brand-rgb), 0.42);
  }

  .mode-tabs {
    border: 1px solid rgba(var(--line-rgb), 0.9);
    background: linear-gradient(150deg, rgba(255, 255, 255, 0.82), rgba(236, 244, 252, 0.92));
    box-shadow: 0 20px 36px -34px rgba(17, 37, 64, 0.56);
    backdrop-filter: blur(8px);
  }

  .mode-tab-btn {
    border-radius: 0.72rem;
    padding: 0.52rem 0.7rem;
    font-size: 0.88rem;
    font-weight: 700;
    letter-spacing: 0.01em;
    position: relative;
  }

  .mode-tab-active {
    color: rgb(var(--ink-rgb));
    background: linear-gradient(150deg, rgba(255, 255, 255, 0.98), rgba(238, 246, 255, 0.95));
    box-shadow: 0 10px 16px -14px rgba(22, 45, 81, 0.5);
  }

  .mode-tab-idle {
    color: rgb(var(--stone-rgb));
  }

  .mode-tab-idle:hover {
    color: rgb(var(--ink-rgb));
    background: rgba(255, 255, 255, 0.62);
  }

  .app-main {
    position: relative;
  }

  .workspace-grid > section {
    animation: riseIn 380ms ease-out both;
  }

  .studio-panel {
    position: relative;
    overflow: hidden;
    border-color: rgba(var(--line-rgb), 0.94);
    background: linear-gradient(156deg, rgba(255, 255, 255, 0.97), rgba(243, 248, 255, 0.9));
    box-shadow: 0 26px 56px -44px rgba(10, 26, 49, 0.68), 0 10px 18px -16px rgba(20, 45, 77, 0.28);
  }

  .studio-panel::before {
    content: '';
    position: absolute;
    inset: 0 0 auto 0;
    height: 1px;
    background: linear-gradient(90deg, rgba(56, 126, 209, 0), rgba(56, 126, 209, 0.42), rgba(56, 126, 209, 0));
    opacity: 0.72;
    pointer-events: none;
  }

  .studio-empty {
    border-color: rgba(var(--line-rgb), 0.9);
    background: linear-gradient(150deg, rgba(255, 255, 255, 0.74), rgba(242, 248, 255, 0.85));
    box-shadow: 0 22px 40px -36px rgba(14, 34, 61, 0.58);
  }

  .studio-badge {
    border: 1px solid rgba(var(--brand-rgb), 0.35);
    background: rgba(var(--brand-rgb), 0.12);
    color: rgb(30, 74, 132);
  }

  .thin-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: rgba(92, 111, 136, 0.48) transparent;
  }

  .thin-scrollbar::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  .thin-scrollbar::-webkit-scrollbar-thumb {
    background: rgba(92, 111, 136, 0.42);
    border-radius: 999px;
  }

  .thin-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }
}

@keyframes riseIn {
  0% {
    opacity: 0;
    transform: translateY(10px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}
